Diff(a, b)
{
    ret a.key - b.key;
}

Compare(a, b)
{
    ret a.key < b.key;
}

Main()
{
    key := "b";
    want := 99;
    a := [
        { "key": key, "value" : want },
        { "key": "a", "value" : 2 },
        { "key": "d", "value" : 3 },
        { "key": "c", "value" : 4 },
        { "key": "z", "value" : 5 },
        { "key": "f", "value" : 6 },
    ];
    Qsort(a, Compare);
    b := &Bsearch(a, { "key" : key }, Diff);
    Assert(b@value == want);
    other := 11;
    b@value = other;
    Assert(b@value == other);
    ret 0;
}
